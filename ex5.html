<!DOCTYPE html>
<html>
<head>
  <title>error box, many errboxes</title>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="error_box.css" type="text/css"/>
  <style type="text/css">
    .err {
      color: red;
      display: none;
    }
    .err.show {
      display: inline-block;
    }
  </style>
  <script src="error_box.js" type="text/javascript">
  </script>
  <script type="text/javascript">
    var errbox = {};

    function init()
    {
      errbox.sum1 = new error_box(document.querySelector("[name=sum1]").closest(".item").querySelector(".f_err_cntr"));
      errbox.sum2 = new error_box(document.querySelector("[name=sum2]").closest(".item").querySelector(".f_err_cntr"));
      errbox.sum3 = new error_box(document.querySelector("[name=sum3]").closest(".item").querySelector(".f_err_cntr"));
    }
    function check(ev)
    {
      var sum;

      sum = ev.target.value;
      if ((sum != "") && (sum.match(/^[0-9]+(\.[0-9]+)?$/) == null)) {
        errbox[ev.target.name].show("Wrong sum: " + sum);
        return;
      }
      errbox[ev.target.name].hide();
    }
  </script>
</head>
<body onload="init()">
<div class="item">
  <div><input type="text" name="sum1" oninput="check(event)"/></div>
  <div class="f_err_cntr err"></div>
</div>

<div class="item">
  <div><input type="text" name="sum2" oninput="check(event)"/></div>
  <div class="f_err_cntr err"></div>
</div>

<div class="item">
  <div><input type="text" name="sum3" oninput="check(event)"/></div>
  <div class="f_err_cntr err"></div>
</div>

</body>
</html>
